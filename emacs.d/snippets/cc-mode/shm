#name : shm
# --
int ${1:shmid} = shmget(${2:key}, sizeof(${3:int})*${4:1}, ${5:0600|IPC_CREAT});
if ($1 < 0) {
    $6
}
$3* ${7:shm} = ($3*)shmat(shmid, NULL, 0);

$0

shmdt($7);
shmctl($1, IPC_RMID, NULL);